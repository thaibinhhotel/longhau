{"ast":null,"code":"import _defineProperty from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/bangth/Desktop/TBHotel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import{Button,Form,Header,Image,Input,Label,Modal,Segment,Statistic,TextArea,Confirm,Loader,Dimmer}from'semantic-ui-react';import Moment from'moment';import momentLocalizer from'react-widgets-moment';import DateTimePicker from'react-widgets/lib/DateTimePicker';import'react-widgets/dist/css/react-widgets.css';import{ListOption}from'../components/ListOption';import{ConfirmFinalMessage}from'../components/ConfirmFinalMessage';import'semantic-ui-css/semantic.min.css';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import'../App.css';import{ListRoomRows}from\"./ListRoomRows\";Moment.locale('vn');momentLocalizer();function formatNumber(num){return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,'$1,');}var isMobile={Android:function Android(){return navigator.userAgent.match(/Android/i);},BlackBerry:function BlackBerry(){return navigator.userAgent.match(/BlackBerry/i);},iOS:function iOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},Opera:function Opera(){return navigator.userAgent.match(/Opera Mini/i);},Windows:function Windows(){return navigator.userAgent.match(/IEMobile/i);},any:function any(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows();}};export var RoomDetailCheckin=/*#__PURE__*/function(_React$Component){_inherits(RoomDetailCheckin,_React$Component);function RoomDetailCheckin(props){var _this;_classCallCheck(this,RoomDetailCheckin);_this=_possibleConstructorReturn(this,_getPrototypeOf(RoomDetailCheckin).call(this,props));_this.show=function(){return _this.setState({open:true});};_this.handleConfirm=function(){return _this.setState({open:false});};_this.handleCancel=function(){return _this.setState({open:false});};_this.state={open:false,CheckinTimeSelected:_this.props.roominfo.fromTime?new Date(_this.props.roominfo.fromTime.replace(/[A-Za-z]/g,' ')):new Date(),CheckoutTimeSelected:_this.props.roominfo.toTime?new Date(_this.props.roominfo.toTime.replace(/[A-Za-z]/g,' ')):new Date(),roomCurrentClass:_this.props.roominfo.roomCurrentClass?_this.props.roominfo.roomCurrentClass:'',optionListSelected:_this.props.roominfo.moreOptionId?JSON.parse(_this.props.roominfo.moreOptionId):'',roomDetailOpen:false,isSubmiting:false,CheckinDate:_this.props.roominfo.fromTime?_this.props.roominfo.fromTime.substr(0,10):new Date().getFullYear()+\"-\"+(new Date().getMonth()+1)+\"-\"+new Date().getDate(),CheckinTime:_this.props.roominfo.fromTime?_this.props.roominfo.fromTime.substr(11,5):new Date().getHours()+\":\"+new Date().getMinutes(),CheckoutDate:_this.props.roominfo.toTime?_this.props.roominfo.toTime.substr(0,10):new Date().getFullYear()+\"-\"+(new Date().getMonth()+1)+\"-\"+new Date().getDate(),CheckoutTime:_this.props.roominfo.toTime?_this.props.roominfo.toTime.substr(11,5):new Date().getHours()+\":\"+new Date().getMinutes(),checkoutInfo:{checkinTime:'',checkoutTime:'',roomClass:'',totalOptionPrice:0,totalRoomPrice:0,totalPrice:0,CheckinTimeSelected:'',CheckoutTimeSelected:''},noteText:_this.props.roominfo.noteText};['checkinRoomSubmit','getStatusDes','onChangePickedTime','handleChangeTypeIDSelect','handleChangeOption','handleShowModal','handleHideModal','handleChangeInputDate','handleChangeInputTime','handleChangeInputCheckoutDate','handleChangeInputCheckoutTime','onChangePickedCheckoutTime','CheckoutRoom','getCheckoutInfo','checkoutRoomSubmit','disableCheckout'].forEach(function(method){return _this[method]=_this[method].bind(_assertThisInitialized(_this));});return _this;}_createClass(RoomDetailCheckin,[{key:\"checkoutRoomSubmit\",value:function checkoutRoomSubmit(){this.setState({isSubmiting:true});var action='checkout';var roomId=this.props.roominfo.roomid;var id=this.props.roominfo.id;var noteText=this.state.noteText;var checkinTime='';var checkoutTime='';if(isMobile.iOS()){checkinTime=this.state.CheckinDate+\" \"+this.state.CheckinTime;checkoutTime=this.state.CheckoutDate+\" \"+this.state.CheckoutTime;}else{checkinTime=this.state.CheckinTimeSelected;checkoutTime=this.state.CheckoutTimeSelected;}var roomClass=this.state.roomCurrentClass;var options=JSON.stringify(this.state.optionListSelected);var totalOptionPrice=0;for(var i=0;i<this.state.optionListSelected.length;i++){totalOptionPrice=totalOptionPrice+this.state.optionListSelected[i].total;}var totalRoomPrice=this.state.checkoutInfo.totalRoomPrice;var totalPrice=this.state.checkoutInfo.totalPrice;if(!checkinTime){toast.error('Bạn chưa chọn giờ vào!');this.setState({isSubmiting:false});return;}if(!checkoutTime){toast.error('Bạn chưa chọn giờ ra!');this.setState({isSubmiting:false});return;}if(!roomClass){toast.error('Bạn chưa chọn loại phòng!');this.setState({isSubmiting:false});return;}this.props.CheckoutSubmitRoom(id,checkinTime,roomClass,options,totalOptionPrice,roomId,action,checkoutTime,totalRoomPrice,totalPrice,noteText);}},{key:\"checkinRoomSubmit\",value:function(){var _checkinRoomSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var action,roomId,id,noteText,checkinTime,roomClass,options,totalOptionPrice,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({isSubmiting:true});action='checkin';roomId=this.props.roominfo.roomid;id=this.props.roominfo.id;noteText=this.state.noteText;checkinTime='';if(isMobile.iOS()){checkinTime=this.state.CheckinDate+\" \"+this.state.CheckinTime;console.log(checkinTime);}else{checkinTime=this.state.CheckinTimeSelected;}roomClass=this.state.roomCurrentClass;options=JSON.stringify(this.state.optionListSelected);totalOptionPrice=0;for(i=0;i<this.state.optionListSelected.length;i++){totalOptionPrice=totalOptionPrice+this.state.optionListSelected[i].total;}if(checkinTime){_context.next=15;break;}toast.error('Bạn chưa chọn giờ vào!');this.setState({isSubmiting:false});return _context.abrupt(\"return\");case 15:if(roomClass){_context.next=19;break;}toast.error('Bạn chưa chọn loại phòng!');this.setState({isSubmiting:false});return _context.abrupt(\"return\");case 19:_context.next=21;return this.props.UpdateCheckInRoom(id,checkinTime,roomClass,options,totalOptionPrice,roomId,noteText);case 21:// await sleep(5000);\nthis.setState({roomDetailOpen:false,isSubmiting:false});case 22:case\"end\":return _context.stop();}}},_callee,this);}));function checkinRoomSubmit(){return _checkinRoomSubmit.apply(this,arguments);}return checkinRoomSubmit;}()},{key:\"getStatusDes\",value:function getStatusDes(){var status=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var stt=this.props.statusList;for(var i=0;i<stt.length;i++){if(stt[i].key==status){return stt[i].text;}}}},{key:\"disableCheckout\",value:function disableCheckout(){var checkoutInfo=_objectSpread({},this.state.checkoutInfo);checkoutInfo.totalPrice=0;this.setState({checkoutInfo:checkoutInfo});}},{key:\"onChangePickedTime\",value:function onChangePickedTime(val){this.disableCheckout();this.setState({CheckinTimeSelected:val});}},{key:\"onChangePickedCheckoutTime\",value:function onChangePickedCheckoutTime(val){this.disableCheckout();this.setState({CheckoutTimeSelected:val});}},{key:\"handleChangeTypeIDSelect\",value:function handleChangeTypeIDSelect(event){var val=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(val==null)return;this.disableCheckout();this.setState({roomCurrentClass:val['value']});}},{key:\"handleChangeOption\",value:function handleChangeOption(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var checkoutInfo=_objectSpread({},this.state.checkoutInfo);var total=0;for(var i=0;i<data.length;i++){total=total+data[i].total;}checkoutInfo['totalPrice']=checkoutInfo[\"totalRoomPrice\"]+total;this.setState({optionListSelected:data,checkoutInfo:checkoutInfo});}},{key:\"handleShowModal\",value:function handleShowModal(){this.setState({roomDetailOpen:true});}},{key:\"handleHideModal\",value:function handleHideModal(){this.setState({roomDetailOpen:false});}},{key:\"handleChangeInputDate\",value:function handleChangeInputDate(val,data){this.disableCheckout();this.setState({CheckinDate:data.value});}},{key:\"handleChangeInputCheckoutDate\",value:function handleChangeInputCheckoutDate(val,data){this.disableCheckout();this.setState({CheckoutDate:data.value});}},{key:\"handleChangeInputCheckoutTime\",value:function handleChangeInputCheckoutTime(val,data){this.disableCheckout();this.setState({CheckoutTime:data.value});}},{key:\"handleChangeInputTime\",value:function handleChangeInputTime(val,data){this.disableCheckout();this.setState({CheckinTime:data.value});}},{key:\"getCheckoutInfo\",value:function getCheckoutInfo(){this.setState({isSubmiting:true});var action='getTotalConfirm';var roomId=this.props.roominfo.roomid;var id=this.props.roominfo.id;var checkinTime='';var checkoutTime='';if(isMobile.iOS()){checkinTime=this.state.CheckinDate+\" \"+this.state.CheckinTime;checkoutTime=this.state.CheckoutDate+\" \"+this.state.CheckoutTime;}else{checkinTime=this.state.CheckinTimeSelected;checkoutTime=this.state.CheckoutTimeSelected;}var roomClass=this.state.roomCurrentClass;var options=JSON.stringify(this.state.optionListSelected);var totalOptionPrice=0;for(var i=0;i<this.state.optionListSelected.length;i++){totalOptionPrice=totalOptionPrice+this.state.optionListSelected[i].total;}if(!checkinTime){toast.error('Bạn chưa chọn giờ vào!');this.setState({isSubmiting:false});return;}if(!checkoutTime){toast.error('Bạn chưa chọn giờ ra!');this.setState({isSubmiting:false});return;}if(checkinTime>checkoutTime){toast.error('Giờ ra phải sau giờ vào!');this.setState({isSubmiting:false});return;}if(!roomClass){toast.error('Bạn chưa chọn loại phòng!');this.setState({isSubmiting:false});return;}this.CheckoutRoom(id,checkinTime,roomClass,options,totalOptionPrice,roomId,action,checkoutTime);}},{key:\"CheckoutRoom\",value:function(){var _CheckoutRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,checkinTime,roomClass,options,totalOptionPrice,roomId,action,checkoutTime){var _this2=this;var formatted_date,formattedcheckout_date,current_datetime,current_Checkoutdatetime,encoded,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formatted_date='';formattedcheckout_date='';if(isMobile.iOS()){formatted_date=checkinTime;formattedcheckout_date=checkoutTime;}else{current_datetime=checkinTime;current_Checkoutdatetime=checkoutTime;formatted_date=current_datetime.getFullYear()+\"-\"+(current_datetime.getMonth()+1)+\"-\"+current_datetime.getDate()+\" \"+current_datetime.getHours()+\":\"+current_datetime.getMinutes()+\":\"+current_datetime.getSeconds();formattedcheckout_date=current_Checkoutdatetime.getFullYear()+\"-\"+(current_Checkoutdatetime.getMonth()+1)+\"-\"+current_Checkoutdatetime.getDate()+\" \"+current_Checkoutdatetime.getHours()+\":\"+current_Checkoutdatetime.getMinutes()+\":\"+current_Checkoutdatetime.getSeconds();}// console.log(formatted_date);\n// console.log(formattedcheckout_date);\nencoded=\"checkinTime=\"+formatted_date+\"&roomClass=\"+roomClass+\"&options=\"+options+\"&totalOptionPrice=\"+totalOptionPrice+\"&checkoutTime=\"+formattedcheckout_date;result='';if(!(action==\"getTotalConfirm\")){_context3.next=8;break;}_context3.next=8;return fetch('https://script.google.com/macros/s/AKfycby1NCjArXNvliviV9Su8imyfVXsNTUL2memG4bxJhX4JTcyoXGr/exec?func=checkoutinfo',{method:'POST',body:encoded,headers:{\"Content-type\":\"application/x-www-form-urlencoded\"}}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response){var msgerr,stt;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:msgerr='';_context2.next=3;return response.json().then(function(data){data['result']=='error'?msgerr=JSON.stringify(data[\"error\"][\"message\"]):result=data['data'];});case 3:stt=response.status;if(stt==200){if(!msgerr){console.log(result);}else{toast.error(\"Error:\"+JSON.stringify(msgerr));}}else{toast.error(\"Something is wrong, please check log for detail!\");}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x9){return _ref.apply(this,arguments);};}()).then(function(){_this2.setState({checkoutInfo:{checkinTime:checkinTime,checkoutTime:checkoutTime,roomClass:roomClass,totalOptionPrice:totalOptionPrice,totalRoomPrice:result['roomPrice'],totalPrice:result['totalPrice'],CheckinTimeSelected:formatted_date,CheckoutTimeSelected:formattedcheckout_date},isSubmiting:false});});case 8:case\"end\":return _context3.stop();}}},_callee3);}));function CheckoutRoom(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _CheckoutRoom.apply(this,arguments);}return CheckoutRoom;}()},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,roominfo=_this$props.roominfo,roomTypeOther=_this$props.roomTypeOther;var imgsrc=roominfo.roomid?'images/room'+roominfo.roomid+'.png':'images/room101.png';return React.createElement(Modal,{style:{width:'100%'},open:this.state.roomDetailOpen,closeIcon:true,onClose:function onClose(){_this3.setState({roomDetailOpen:false});},trigger:React.createElement(\"a\",{className:\"image fit\"},React.createElement(\"img\",{style:{boxShadow:'10px 10px 5px #ccc'},onClick:this.handleShowModal,src:\"images/hotelico.jpeg\",alt:\"Hotel\"}))},React.createElement(Modal.Header,null,React.createElement(Statistic,{style:{marginLeft:'30%'},horizontal:true,size:\"tiny\"},React.createElement(Statistic.Value,{style:{color:\"#00bfff\",fontWeight:'bold'}},formatNumber(this.state.checkoutInfo.totalPrice)),React.createElement(Statistic.Label,null,\"vnd\")),\".\"),React.createElement(Modal.Content,{image:true,scrolling:true,style:{height:'450%'}},React.createElement(Image,{size:\"large\",src:imgsrc,wrapped:true},React.createElement(Form,null,React.createElement(TextArea,{placeholder:\"Ghi ch\\xFA...\",style:{minHeight:100},value:this.state.noteText,onChange:function onChange(event,data){_this3.setState({noteText:data.value});}}))),React.createElement(Modal.Description,{style:{width:'100%'}},React.createElement(Header,null,roominfo.roomDescription),React.createElement(\"b\",null,\"Status: \",this.getStatusDes(roominfo.status)),React.createElement(\"hr\",null),React.createElement(\"label\",null,React.createElement(\"b\",null,\"Checkin:\")),React.createElement(\"div\",null,!isMobile.iOS()?React.createElement(DateTimePicker,{value:this.state.CheckinTimeSelected,onChange:this.onChangePickedTime}):React.createElement(\"div\",{style:{width:'100%'}},React.createElement(Input,{size:\"huge\",style:{width:'50%'},onChange:this.handleChangeInputDate,value:this.state.CheckinDate,type:\"date\",name:\"CheckinDate\"}),React.createElement(Input,{size:\"huge\",style:{width:'50%'},onChange:this.handleChangeInputTime,value:this.state.CheckinTime,type:\"time\",name:\"CheckinTime\"}))),React.createElement(Segment,{padded:true,style:{display:this.props.roominfo.status==0?'':'none'}},React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"b\",{style:{color:\"#00bfff\"}},\"CheckOut:\")),!isMobile.iOS()?React.createElement(DateTimePicker,{value:this.state.CheckoutTimeSelected,onChange:this.onChangePickedCheckoutTime}):React.createElement(\"div\",{style:{width:'100%'}},React.createElement(Input,{size:\"huge\",style:{width:'50%'},onChange:this.handleChangeInputCheckoutDate,value:this.state.CheckoutDate,type:\"date\",name:\"CheckoutDate\"}),React.createElement(Input,{size:\"huge\",style:{width:'50%'},onChange:this.handleChangeInputCheckoutTime,value:this.state.CheckoutTime,type:\"time\",name:\"CheckoutTime\"})),React.createElement(\"br\",null),React.createElement(Button,{primary:true,style:{float:'left',width:'45%'},size:\"large\",onClick:this.getCheckoutInfo,disabled:this.state.isSubmiting},\"Check Price:\"),this.state.isSubmiting?React.createElement(Input,{size:\"large\",loading:true,icon:\"user\",disabled:true,value:formatNumber(this.state.checkoutInfo.totalRoomPrice),label:{basic:true,content:'vnd'},labelPosition:\"right\",iconPosition:\"left\",style:{width:\"40%\"},placeholder:\"Search...\"}):React.createElement(Input,{size:\"large\",icon:\"money bill alternate outline\",disabled:true,value:formatNumber(this.state.checkoutInfo.totalRoomPrice),label:{basic:true,content:'vnd'},labelPosition:\"right\",iconPosition:\"left\",style:{width:\"40%\"},placeholder:\"Search...\"}))),React.createElement(\"hr\",null),React.createElement(\"div\",null,React.createElement(\"label\",null,React.createElement(\"b\",null,\"Room Type:\")),React.createElement(Form.Select,{fluid:true,icon:\"\",size:\"huge\"// label='Room Type:'\n,value:this.state.roomCurrentClass,options:roomTypeOther,onChange:this.handleChangeTypeIDSelect,placeholder:\"Type\"})),React.createElement(\"hr\",null),React.createElement(Label,{as:\"a\",color:\"teal\",ribbon:true},\"Th\\xEAm S\\u1EA3n Ph\\u1EA9m:\"),React.createElement(ListOption,{listoptionIds:this.props.listoptionIds,listoption:this.props.listoption,onChangeOption:this.handleChangeOption,optionListSelected:this.state.optionListSelected?this.state.optionListSelected:[]}))),React.createElement(Modal.Actions,null,React.createElement(Button,{primary:true,onClick:this.show,disabled:this.state.isSubmiting||this.state.checkoutInfo.totalPrice==0,style:{display:this.props.roominfo.status==0?'':'none'}},\"CheckOut\"),React.createElement(Button,{primary:true,onClick:this.checkinRoomSubmit,disabled:this.state.isSubmiting},this.props.roominfo.status==1?\"CheckIn\":\"Update\"),React.createElement(Button,{primary:true,onClick:this.handleHideModal,disabled:this.state.isSubmiting},\"Close\")),React.createElement(Confirm,{open:this.state.open,content:this.state.isSubmiting?React.createElement(Dimmer,{active:true,inverted:true},React.createElement(Loader,{size:\"large\"},\"H\\u1EC7 th\\u1ED1ng \\u0111ang x\\u1EED l\\xFD.\")):React.createElement(\"div\",{style:{textAlign:'center'}},React.createElement(Segment,null,React.createElement(\"h3\",null,React.createElement(\"table\",null,React.createElement(\"tbody\",null,!isMobile.iOS()?[React.createElement(\"tr\",{key:\"1\"},React.createElement(\"td\",null,\"Gi\\u1EDD v\\xE0o:\"),React.createElement(\"td\",null,this.state.checkoutInfo.CheckinTimeSelected)),React.createElement(\"tr\",{key:\"2\"},React.createElement(\"td\",null,\"Gi\\u1EDD ra:\"),React.createElement(\"td\",null,this.state.checkoutInfo.CheckoutTimeSelected))]:[React.createElement(\"tr\",{key:\"3\"},React.createElement(\"td\",null,\"Gi\\u1EDD v\\xE0o:\"),React.createElement(\"td\",null,this.state.checkoutInfo.CheckinTimeSelected)),React.createElement(\"tr\",{key:\"4\"},React.createElement(\"td\",null,\"Gi\\u1EDD ra:\"),React.createElement(\"td\",null,this.state.checkoutInfo.CheckoutTimeSelected))],React.createElement(\"tr\",null,React.createElement(\"td\",null,\"Ti\\u1EC1n \\u1EDF:\"),React.createElement(\"td\",null,formatNumber(this.state.checkoutInfo.totalRoomPrice))),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"Ti\\u1EC1n kh\\xE1c:\"),React.createElement(\"td\",null,formatNumber(this.state.checkoutInfo.totalPrice-this.state.checkoutInfo.totalRoomPrice))),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"T\\u1ED5ng ti\\u1EC1n:\"),React.createElement(\"td\",null,formatNumber(this.state.checkoutInfo.totalPrice)))))))),header:\"Confirm CheckOut\",onCancel:this.handleCancel,onConfirm:this.checkoutRoomSubmit}));}}]);return RoomDetailCheckin;}(React.Component);","map":{"version":3,"sources":["/Users/bangth/Desktop/TBHotel/src/components/RoomDetailCheckin.js"],"names":["React","Button","Form","Header","Image","Input","Label","Modal","Segment","Statistic","TextArea","Confirm","Loader","Dimmer","Moment","momentLocalizer","DateTimePicker","ListOption","ConfirmFinalMessage","toast","ListRoomRows","locale","formatNumber","num","toString","replace","isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","RoomDetailCheckin","props","show","setState","open","handleConfirm","handleCancel","state","CheckinTimeSelected","roominfo","fromTime","Date","CheckoutTimeSelected","toTime","roomCurrentClass","optionListSelected","moreOptionId","JSON","parse","roomDetailOpen","isSubmiting","CheckinDate","substr","getFullYear","getMonth","getDate","CheckinTime","getHours","getMinutes","CheckoutDate","CheckoutTime","checkoutInfo","checkinTime","checkoutTime","roomClass","totalOptionPrice","totalRoomPrice","totalPrice","noteText","forEach","method","bind","action","roomId","roomid","id","options","stringify","i","length","total","error","CheckoutSubmitRoom","console","log","UpdateCheckInRoom","status","stt","statusList","key","text","val","disableCheckout","event","data","value","CheckoutRoom","formatted_date","formattedcheckout_date","current_datetime","current_Checkoutdatetime","getSeconds","encoded","result","fetch","body","headers","then","response","msgerr","json","roomTypeOther","imgsrc","width","boxShadow","handleShowModal","marginLeft","color","fontWeight","height","minHeight","roomDescription","getStatusDes","onChangePickedTime","handleChangeInputDate","handleChangeInputTime","display","onChangePickedCheckoutTime","handleChangeInputCheckoutDate","handleChangeInputCheckoutTime","float","getCheckoutInfo","basic","content","handleChangeTypeIDSelect","listoptionIds","listoption","handleChangeOption","checkinRoomSubmit","handleHideModal","textAlign","checkoutRoomSubmit","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n    Button,\n    Form,\n    Header,\n    Image,\n    Input,\n    Label,\n    Modal,\n    Segment,\n    Statistic,\n    TextArea,\n    Confirm, Loader, Dimmer\n} from 'semantic-ui-react'\nimport PropTypes from \"prop-types\";\nimport Moment from 'moment'\nimport momentLocalizer from 'react-widgets-moment';\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport {ListOption} from '../components/ListOption';\nimport {ConfirmFinalMessage} from '../components/ConfirmFinalMessage';\nimport 'semantic-ui-css/semantic.min.css';\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../App.css';\nimport {ListRoomRows} from \"./ListRoomRows\";\n\nMoment.locale('vn')\nmomentLocalizer()\n\nfunction formatNumber(num) {\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n}\n\nconst isMobile = {\n    Android: function () {\n        return navigator.userAgent.match(/Android/i);\n    },\n    BlackBerry: function () {\n        return navigator.userAgent.match(/BlackBerry/i);\n    },\n    iOS: function () {\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n    },\n    Opera: function () {\n        return navigator.userAgent.match(/Opera Mini/i);\n    },\n    Windows: function () {\n        return navigator.userAgent.match(/IEMobile/i);\n    },\n    any: function () {\n        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n    }\n};\n\nexport class RoomDetailCheckin extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            CheckinTimeSelected: (this.props.roominfo.fromTime ? new Date(this.props.roominfo.fromTime.replace(/[A-Za-z]/g, ' ')) : new Date()),\n            CheckoutTimeSelected: (this.props.roominfo.toTime ? new Date(this.props.roominfo.toTime.replace(/[A-Za-z]/g, ' ')) : new Date()),\n            roomCurrentClass: (this.props.roominfo.roomCurrentClass ? this.props.roominfo.roomCurrentClass : ''),\n            optionListSelected: (this.props.roominfo.moreOptionId ? JSON.parse(this.props.roominfo.moreOptionId) : ''),\n            roomDetailOpen: false,\n            isSubmiting: false,\n            CheckinDate: (this.props.roominfo.fromTime ? this.props.roominfo.fromTime.substr(0, 10) : ((new Date()).getFullYear() + \"-\" + ((new Date()).getMonth() + 1) + \"-\" + (new Date()).getDate())),\n            CheckinTime: (this.props.roominfo.fromTime ? this.props.roominfo.fromTime.substr(11, 5) : ((new Date()).getHours() + \":\" + ((new Date()).getMinutes()))),\n            CheckoutDate: (this.props.roominfo.toTime ? this.props.roominfo.toTime.substr(0, 10) : ((new Date()).getFullYear() + \"-\" + ((new Date()).getMonth() + 1) + \"-\" + (new Date()).getDate())),\n            CheckoutTime: (this.props.roominfo.toTime ? this.props.roominfo.toTime.substr(11, 5) : ((new Date()).getHours() + \":\" + ((new Date()).getMinutes()))),\n            checkoutInfo: {\n                checkinTime: '',\n                checkoutTime: '',\n                roomClass: '',\n                totalOptionPrice: 0,\n                totalRoomPrice: 0,\n                totalPrice: 0,\n                CheckinTimeSelected: '',\n                CheckoutTimeSelected: '',\n            },\n            noteText: this.props.roominfo.noteText,\n        };\n\n        [\n            'checkinRoomSubmit',\n            'getStatusDes',\n            'onChangePickedTime',\n            'handleChangeTypeIDSelect',\n            'handleChangeOption',\n            'handleShowModal',\n            'handleHideModal',\n            'handleChangeInputDate',\n            'handleChangeInputTime',\n            'handleChangeInputCheckoutDate',\n            'handleChangeInputCheckoutTime',\n            'onChangePickedCheckoutTime',\n            'CheckoutRoom',\n            'getCheckoutInfo',\n            'checkoutRoomSubmit',\n            'disableCheckout'\n        ].forEach((method) => this[method] = this[method].bind(this));\n    }\n\n    show = () => this.setState({open: true})\n    handleConfirm = () => this.setState({open: false})\n    handleCancel = () => this.setState({open: false})\n\n    checkoutRoomSubmit() {\n        this.setState({\n            isSubmiting: true,\n        });\n        let action = 'checkout';\n        let roomId = this.props.roominfo.roomid;\n        let id = this.props.roominfo.id;\n        let noteText = this.state.noteText;\n        let checkinTime = '';\n        let checkoutTime = '';\n        if (isMobile.iOS()) {\n            checkinTime = this.state.CheckinDate + \" \" + this.state.CheckinTime;\n            checkoutTime = this.state.CheckoutDate + \" \" + this.state.CheckoutTime;\n        } else {\n            checkinTime = this.state.CheckinTimeSelected;\n            checkoutTime = this.state.CheckoutTimeSelected;\n        }\n        let roomClass = this.state.roomCurrentClass;\n        let options = JSON.stringify(this.state.optionListSelected);\n\n        let totalOptionPrice = 0;\n        for (let i = 0; i < this.state.optionListSelected.length; i++) {\n            totalOptionPrice = totalOptionPrice + this.state.optionListSelected[i].total;\n        }\n\n        let totalRoomPrice = this.state.checkoutInfo.totalRoomPrice;\n        let totalPrice = this.state.checkoutInfo.totalPrice;\n\n        if (!checkinTime) {\n            toast.error('Bạn chưa chọn giờ vào!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n        if (!checkoutTime) {\n            toast.error('Bạn chưa chọn giờ ra!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n        if (!roomClass) {\n            toast.error('Bạn chưa chọn loại phòng!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n\n        this.props.CheckoutSubmitRoom(id, checkinTime, roomClass, options, totalOptionPrice, roomId, action, checkoutTime, totalRoomPrice, totalPrice, noteText);\n    }\n\n    async checkinRoomSubmit() {\n        this.setState({\n            isSubmiting: true\n        });\n        let action = 'checkin';\n        let roomId = this.props.roominfo.roomid;\n        let id = this.props.roominfo.id;\n        let noteText = this.state.noteText;\n\n        let checkinTime = '';\n        if (isMobile.iOS()) {\n            checkinTime = this.state.CheckinDate + \" \" + this.state.CheckinTime;\n            console.log(checkinTime)\n        } else {\n            checkinTime = this.state.CheckinTimeSelected;\n        }\n        let roomClass = this.state.roomCurrentClass;\n        let options = JSON.stringify(this.state.optionListSelected);\n\n        let totalOptionPrice = 0;\n        for (let i = 0; i < this.state.optionListSelected.length; i++) {\n            totalOptionPrice = totalOptionPrice + this.state.optionListSelected[i].total;\n        }\n\n        if (!checkinTime) {\n            toast.error('Bạn chưa chọn giờ vào!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n        if (!roomClass) {\n            toast.error('Bạn chưa chọn loại phòng!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n\n        await this.props.UpdateCheckInRoom(id, checkinTime, roomClass, options, totalOptionPrice, roomId, noteText);\n        // await sleep(5000);\n        this.setState({\n            roomDetailOpen: false,\n            isSubmiting: false\n        });\n    }\n\n    getStatusDes(status = '') {\n        let stt = this.props.statusList;\n        for (var i = 0; i < stt.length; i++) {\n            if (stt[i].key == status) {\n                return stt[i].text;\n            }\n        }\n    }\n\n    disableCheckout() {\n        let checkoutInfo = {...this.state.checkoutInfo};\n        checkoutInfo.totalPrice = 0;\n        this.setState({\n            checkoutInfo: checkoutInfo\n        });\n    }\n\n    onChangePickedTime(val) {\n        this.disableCheckout();\n        this.setState({\n            CheckinTimeSelected: val\n        });\n    }\n\n    onChangePickedCheckoutTime(val) {\n        this.disableCheckout();\n        this.setState({\n            CheckoutTimeSelected: val\n        });\n    }\n\n    handleChangeTypeIDSelect(event, val = null) {\n        if (val == null)\n            return;\n        this.disableCheckout();\n        this.setState({\n            roomCurrentClass: val['value']\n        });\n    }\n\n    handleChangeOption(data = []) {\n        let checkoutInfo = {...this.state.checkoutInfo};\n        let total = 0;\n        for (var i = 0; i < data.length; i++) {\n            total = total + data[i].total;\n        }\n        checkoutInfo['totalPrice'] = checkoutInfo[\"totalRoomPrice\"] + total;\n        this.setState({\n            optionListSelected: data,\n            checkoutInfo: checkoutInfo\n        });\n    }\n\n    handleShowModal() {\n        this.setState({\n            roomDetailOpen: true\n        });\n    }\n\n    handleHideModal() {\n        this.setState({\n            roomDetailOpen: false\n        });\n    }\n\n    handleChangeInputDate(val, data) {\n        this.disableCheckout();\n        this.setState({\n            CheckinDate: data.value\n        });\n    }\n\n    handleChangeInputCheckoutDate(val, data) {\n        this.disableCheckout();\n        this.setState({\n            CheckoutDate: data.value\n        });\n    }\n\n    handleChangeInputCheckoutTime(val, data) {\n        this.disableCheckout();\n        this.setState({\n            CheckoutTime: data.value\n        });\n    }\n\n    handleChangeInputTime(val, data) {\n        this.disableCheckout();\n        this.setState({\n            CheckinTime: data.value\n        });\n    }\n\n    getCheckoutInfo() {\n        this.setState({\n            isSubmiting: true,\n        });\n        let action = 'getTotalConfirm';\n        let roomId = this.props.roominfo.roomid;\n        let id = this.props.roominfo.id;\n        let checkinTime = '';\n        let checkoutTime = '';\n        if (isMobile.iOS()) {\n            checkinTime = this.state.CheckinDate + \" \" + this.state.CheckinTime;\n            checkoutTime = this.state.CheckoutDate + \" \" + this.state.CheckoutTime;\n        } else {\n            checkinTime = this.state.CheckinTimeSelected;\n            checkoutTime = this.state.CheckoutTimeSelected;\n        }\n        let roomClass = this.state.roomCurrentClass;\n        let options = JSON.stringify(this.state.optionListSelected);\n\n        let totalOptionPrice = 0;\n        for (let i = 0; i < this.state.optionListSelected.length; i++) {\n            totalOptionPrice = totalOptionPrice + this.state.optionListSelected[i].total;\n        }\n\n        if (!checkinTime) {\n            toast.error('Bạn chưa chọn giờ vào!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n        if (!checkoutTime) {\n            toast.error('Bạn chưa chọn giờ ra!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n\n        if (checkinTime > checkoutTime) {\n            toast.error('Giờ ra phải sau giờ vào!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n\n        if (!roomClass) {\n            toast.error('Bạn chưa chọn loại phòng!');\n            this.setState({\n                isSubmiting: false\n            });\n            return;\n        }\n\n        this.CheckoutRoom(id, checkinTime, roomClass, options, totalOptionPrice, roomId, action, checkoutTime);\n    }\n\n    async CheckoutRoom(id, checkinTime, roomClass, options, totalOptionPrice, roomId, action, checkoutTime) {\n        let formatted_date = '';\n        let formattedcheckout_date = '';\n        if (isMobile.iOS()) {\n            formatted_date = checkinTime;\n            formattedcheckout_date = checkoutTime;\n        } else {\n            let current_datetime = checkinTime;\n            let current_Checkoutdatetime = checkoutTime;\n            formatted_date = current_datetime.getFullYear() + \"-\" + (current_datetime.getMonth() + 1) + \"-\" + current_datetime.getDate() + \" \" + current_datetime.getHours() + \":\" + current_datetime.getMinutes() + \":\" + current_datetime.getSeconds();\n            formattedcheckout_date = current_Checkoutdatetime.getFullYear() + \"-\" + (current_Checkoutdatetime.getMonth() + 1) + \"-\" + current_Checkoutdatetime.getDate() + \" \" + current_Checkoutdatetime.getHours() + \":\" + current_Checkoutdatetime.getMinutes() + \":\" + current_Checkoutdatetime.getSeconds();\n        }\n\n        // console.log(formatted_date);\n        // console.log(formattedcheckout_date);\n\n        let encoded = \"checkinTime=\" + formatted_date +\n            \"&roomClass=\" + roomClass +\n            \"&options=\" + options +\n            \"&totalOptionPrice=\" + totalOptionPrice +\n            \"&checkoutTime=\" + formattedcheckout_date;\n        let result = '';\n        if (action == \"getTotalConfirm\") {\n            await fetch('https://script.google.com/macros/s/AKfycby1NCjArXNvliviV9Su8imyfVXsNTUL2memG4bxJhX4JTcyoXGr/exec?func=checkoutinfo', {\n                method: 'POST',\n                body: encoded,\n                headers: {\n                    \"Content-type\": \"application/x-www-form-urlencoded\"\n                }\n            }).then(async function (response) {\n                let msgerr = '';\n\n                await response.json().then(function (data) {\n                    data['result'] == 'error' ? msgerr = JSON.stringify(data[\"error\"][\"message\"]) : result = data['data'];\n                });\n                let stt = response.status;\n                if (stt == 200) {\n                    if (!msgerr) {\n                        console.log(result);\n                    } else {\n                        toast.error(\"Error:\" + JSON.stringify(msgerr));\n                    }\n                } else {\n                    toast.error(\"Something is wrong, please check log for detail!\");\n                }\n\n            }).then(() => {\n                this.setState({\n                    checkoutInfo: {\n                        checkinTime: checkinTime,\n                        checkoutTime: checkoutTime,\n                        roomClass: roomClass,\n                        totalOptionPrice: totalOptionPrice,\n                        totalRoomPrice: result['roomPrice'],\n                        totalPrice: result['totalPrice'],\n                        CheckinTimeSelected: formatted_date,\n                        CheckoutTimeSelected: formattedcheckout_date,\n                    },\n                    isSubmiting: false\n                });\n            })\n        }\n    }\n\n    render() {\n        const {roominfo, roomTypeOther} = this.props;\n        let imgsrc = roominfo.roomid ? 'images/room' + roominfo.roomid + '.png' : 'images/room101.png';\n\n        return (\n            <Modal style={{width: '100%'}} open={this.state.roomDetailOpen} closeIcon\n                   onClose={() => {\n                       this.setState({roomDetailOpen: false})\n                   }}\n                   trigger={<a className=\"image fit\"><img style={{boxShadow: '10px 10px 5px #ccc'}}\n                                                          onClick={this.handleShowModal}\n                                                          src=\"images/hotelico.jpeg\" alt=\"Hotel\"/></a>}>\n                <Modal.Header>\n                    <Statistic style={{marginLeft: '30%'}} horizontal size='tiny'>\n                        <Statistic.Value style={{\n                            color: \"#00bfff\",\n                            fontWeight: 'bold'\n                        }}>{formatNumber(this.state.checkoutInfo.totalPrice)}</Statistic.Value>\n                        <Statistic.Label>vnd</Statistic.Label>\n                    </Statistic>.\n                </Modal.Header>\n                <Modal.Content image scrolling style={{height: '450%'}}>\n                    <Image size='large' src={imgsrc} wrapped>\n                        <Form>\n                            <TextArea placeholder='Ghi chú...' style={{minHeight: 100}}\n                                      value={this.state.noteText} onChange={(event, data) => {\n                                this.setState({noteText: data.value})\n                            }}/>\n                        </Form>\n                    </Image>\n                    <Modal.Description style={{width: '100%'}}>\n                        <Header>{roominfo.roomDescription}</Header>\n                        <b>\n                            Status: {this.getStatusDes(roominfo.status)}\n                        </b>\n                        <hr/>\n                        <label>\n                            <b>Checkin:</b>\n                        </label>\n                        <div>\n                            {!isMobile.iOS() ? <DateTimePicker value={this.state.CheckinTimeSelected}\n                                                               onChange={this.onChangePickedTime}/> :\n                                <div style={{width: '100%'}}><Input size='huge' style={{width: '50%'}}\n                                                                    onChange={this.handleChangeInputDate}\n                                                                    value={this.state.CheckinDate} type=\"date\"\n                                                                    name=\"CheckinDate\"/>\n                                    <Input size='huge' style={{width: '50%'}} onChange={this.handleChangeInputTime}\n                                           value={this.state.CheckinTime} type=\"time\" name=\"CheckinTime\"/>\n                                </div>\n                            }\n                        </div>\n                        <Segment padded style={{display: this.props.roominfo.status == 0 ? '' : 'none'}}>\n                            <div>\n                                <label>\n                                    <b style={{color: \"#00bfff\"}}>CheckOut:</b>\n                                </label>\n                                {!isMobile.iOS() ? <DateTimePicker value={this.state.CheckoutTimeSelected}\n                                                                   onChange={this.onChangePickedCheckoutTime}/> :\n                                    <div style={{width: '100%'}}><Input size='huge' style={{width: '50%'}}\n                                                                        onChange={this.handleChangeInputCheckoutDate}\n                                                                        value={this.state.CheckoutDate} type=\"date\"\n                                                                        name=\"CheckoutDate\"/>\n                                        <Input size='huge' style={{width: '50%'}}\n                                               onChange={this.handleChangeInputCheckoutTime}\n                                               value={this.state.CheckoutTime} type=\"time\" name=\"CheckoutTime\"/>\n                                    </div>\n                                }\n                                <br/>\n                                <Button primary style={{float: 'left', width: '45%'}} size=\"large\"\n                                        onClick={this.getCheckoutInfo} disabled={this.state.isSubmiting}>\n                                    Check Price:\n                                </Button>\n                                {this.state.isSubmiting ?\n                                    <Input size='large' loading icon='user' disabled\n                                           value={formatNumber(this.state.checkoutInfo.totalRoomPrice)}\n                                           label={{basic: true, content: 'vnd'}}\n                                           labelPosition='right'\n                                           iconPosition='left' style={{width: \"40%\"}} placeholder='Search...'/>\n                                    :\n                                    <Input size=\"large\" icon='money bill alternate outline' disabled\n                                           value={formatNumber(this.state.checkoutInfo.totalRoomPrice)}\n                                           label={{basic: true, content: 'vnd'}}\n                                           labelPosition='right'\n                                           iconPosition='left' style={{width: \"40%\"}} placeholder='Search...'/>\n                                }\n                            </div>\n                        </Segment>\n                        <hr/>\n                        <div>\n                            <label>\n                                <b>Room Type:</b>\n                            </label>\n                            <Form.Select\n                                fluid\n                                icon=''\n                                size=\"huge\"\n                                // label='Room Type:'\n                                value={this.state.roomCurrentClass}\n                                options={roomTypeOther}\n                                onChange={this.handleChangeTypeIDSelect}\n                                placeholder='Type'\n                            />\n                        </div>\n                        <hr/>\n                        <Label as='a' color='teal' ribbon>\n                            Thêm Sản Phẩm:\n                        </Label>\n                        <ListOption listoptionIds={this.props.listoptionIds}\n                                    listoption={this.props.listoption}\n                                    onChangeOption={this.handleChangeOption}\n                                    optionListSelected={this.state.optionListSelected ? this.state.optionListSelected : []}/>\n                    </Modal.Description>\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button primary onClick={this.show}\n                            disabled={this.state.isSubmiting || this.state.checkoutInfo.totalPrice == 0}\n                            style={{display: (this.props.roominfo.status == 0 ? '' : 'none')}}>\n                        CheckOut\n                    </Button>\n                    <Button primary onClick={this.checkinRoomSubmit} disabled={this.state.isSubmiting}>\n                        {this.props.roominfo.status == 1 ? \"CheckIn\" : \"Update\"}\n                    </Button>\n                    <Button primary onClick={this.handleHideModal} disabled={this.state.isSubmiting}>\n                        Close\n                    </Button>\n                </Modal.Actions>\n                <Confirm\n                    open={this.state.open}\n                    content={this.state.isSubmiting ?\n                        <Dimmer active inverted>\n                            <Loader size='large'>Hệ thống đang xử lý.</Loader>\n                        </Dimmer>\n                        :\n                        <div style={{textAlign: 'center'}}>\n                            <Segment>\n                                <h3>\n                                    <table>\n                                        <tbody>\n                                        {!isMobile.iOS() ?\n                                            [<tr key='1'>\n                                                <td>Giờ vào:</td>\n                                                <td>{this.state.checkoutInfo.CheckinTimeSelected}</td>\n                                            </tr>,\n                                                <tr key='2'>\n                                                    <td>Giờ ra:</td>\n                                                    <td>{this.state.checkoutInfo.CheckoutTimeSelected}</td>\n                                                </tr>]\n                                            :\n                                            [<tr key='3'>\n                                                <td>Giờ vào:</td>\n                                                <td>{this.state.checkoutInfo.CheckinTimeSelected}</td>\n                                            </tr>,\n                                                <tr key='4'>\n                                                    <td>Giờ ra:</td>\n                                                    <td>{this.state.checkoutInfo.CheckoutTimeSelected}</td>\n                                                </tr>\n                                            ]}\n                                        <tr>\n                                            <td>Tiền ở:</td>\n                                            <td>{formatNumber(this.state.checkoutInfo.totalRoomPrice)}</td>\n                                        </tr>\n                                        <tr>\n                                            <td>Tiền khác:</td>\n                                            <td>{formatNumber((this.state.checkoutInfo.totalPrice - this.state.checkoutInfo.totalRoomPrice))}</td>\n                                        </tr>\n                                        <tr>\n                                            <td>Tổng tiền:</td>\n                                            <td>{formatNumber(this.state.checkoutInfo.totalPrice)}</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </h3>\n                            </Segment>\n                        </div>\n                    }\n                    header='Confirm CheckOut'\n                    onCancel={this.handleCancel}\n                    onConfirm={this.checkoutRoomSubmit}\n                />\n            </Modal>\n        );\n    }\n}\n\n\nRoomDetailCheckin.propTypes = {\n    roominfo: PropTypes.object,\n    statusList: PropTypes.array,\n    roomTypeOther: PropTypes.array,\n    listoptionIds: PropTypes.array,\n    listoption: PropTypes.array,\n    UpdateCheckInRoom: PropTypes.func,\n    CheckoutSubmitRoom: PropTypes.func\n}"]},"metadata":{},"sourceType":"module"}